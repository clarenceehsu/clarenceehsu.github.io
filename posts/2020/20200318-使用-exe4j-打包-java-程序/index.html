<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>使用 exe4j 打包 Java 程序 - Zee Tsui</title>
  <title>ZC 个人内容记录</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="/favicon.ico">
  <link rel="canonical" href="/posts/2020/20200318-%E4%BD%BF%E7%94%A8-exe4j-%E6%89%93%E5%8C%85-java-%E7%A8%8B%E5%BA%8F/" />

  
  
  <link rel="stylesheet" href="/css/style.min.c813c458db6847576b9bd786addc081f1f218bc0b99cdfe79f2daf35df2e453a.css">
  

  
    
    <meta property="og:title" content="使用 exe4j 打包 Java 程序"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="/posts/2020/20200318-%E4%BD%BF%E7%94%A8-exe4j-%E6%89%93%E5%8C%85-java-%E7%A8%8B%E5%BA%8F/"/>
    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@zerostaticio"/>
    <meta name="twitter:creator" content="@zerostaticio"/>
  

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet"> 
</head>




<body class='page frame page-blog-single'>
  <div id="menu-main-mobile" class="menu-main-mobile">
    <ul class="menu">
        
        
            
                <li class="menu-item-home">
                    <a href="/">Home</a>
                </li>
            
        
            
                <li class="menu-item-blog">
                    <a href="/posts/">Blog</a>
                </li>
            
        
            
                <li class="menu-item-categories">
                    <a href="/categories/">Categories</a>
                </li>
            
        
            
            <li class="menu-item-gallery">
                <a href="/gallery">Gallery</a>
            </li>
            
        
            
                <li class="menu-item-log">
                    <a href="/log/">Log</a>
                </li>
            
        
            
                <li class="menu-item-about">
                    <a href="/pages/about/">About</a>
                </li>
            
        
    </ul>
</div>
  <div id="wrapper" class="wrapper">
    <div class='header'>
  
  <a></a>
  <div class="menu-main">
    <ul>
      
      
      
      <li class="menu-item-home">
        <a href="/">
          
          <span>Home</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-blog">
        <a href="/posts/">
          
          <span>Blog</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-categories">
        <a href="/categories/">
          
          <span>Categories</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-gallery">
        <a href="/gallery">
          
          <span>Gallery</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-log">
        <a href="/log/">
          
          <span>Log</span>
        </a>
      </li>
      
      
      
      <li class="menu-item-about">
        <a href="/pages/about/">
          
          <span>About</span>
        </a>
      </li>
      
      
    </ul>
  </div>
  <div id="toggle-menu-main-mobile" class="hamburger-trigger">
    <button class="hamburger">Menu</button>
  </div>
</div>
    
  <div class="blog">
    <div class="intro-article">
      <h1>使用 exe4j 打包 Java 程序<span class="dot">.</span></h1>
      
    </div>
    <div class="content">
      <p>上回说到，因为要提交一个加密算法的作业，我用 Java 写了加密程序以及用 Python 写了文本比较程序做校验。因为老师需要提交一个工程项目，所以为了测试方便我们需要将这些程序打包成可执行文件。对比了那么多的 Java 打包软件，我最终使用了 exe4j 软件进行 Java 程序的打包。</p>
<!-- more -->
<h2 id="jre">JRE</h2>
<p>因为 Java 程序的运行需要 JVM，所以我们需要一个 jre 的包去给 exe 文件提供环境。一般在 JDK 的文件夹里会带有一个 jre，如果没有的话可以网上找资源下载或者直接通过 JDK 生成，方式如下：</p>
<ol>
<li>以<strong>管理员身份</strong>运行 CMD，并且 cd 到电脑的 JDK 的目录里面（没有管理员身份可能会失败）；</li>
<li>执行 <code>bin\jlink.exe --module-path jmods --add-modules java.desktop --output jre</code> 生成 jre，已生成相关目录会报错；</li>
<li>生成完毕，可以复制到项目文件夹</li>
</ol>
<h2 id="生成-jar-程序">生成 jar 程序</h2>
<p>jar 程序就不多介绍了，因为我目前使用的 JetBrains 全家桶，所以直接用 IDEA 生成 jar 程序，复制出来供后续打包使用。</p>
<h2 id="exe4j">exe4j</h2>
<p>exe4j 可以从官方渠道下载，软件本身是免费的，如果不使用 Lisence 就会在运行的时候弹出一个警告窗口。此时我们可以在网上去找 Lisence 码来用，软件本身没有其他的检查机制，都是可以使用的。在主界面的下方填入序列号（其他的随便填）即可生成纯净的程序。</p>
<p>这一部分的步骤基本上可以参考<a href="https://blog.csdn.net/zhangdaiscott/article/details/46988003">其他的教程</a>，但是这里面会出现一些问题，列在下方：</p>
<h4 id="路径问题">路径问题</h4>
<p>这是一个老生常谈的问题了，路径中不能够出现中文，否则会出现 jre 无法使用的问题。</p>
<p>都 2020 年了，现代编译器都已经支持中文了，这属实有点说不过去。</p>
<h4 id="jre-路径问题">jre 路径问题</h4>
<p>在生成程序的 JRE → Search sequence 设置项中，是 jre 的索引顺序，它会按照这个顺序去搜索引用 jre 程序作为 Java 程序的运行环境，在这里我们直接把这个设置为项目文件夹里的 jre 目录，这样只要文件夹完整，在别人的电脑里面也能直接使用。</p>
<blockquote>
<p>注意这里的 JRE 文件夹最好设置为相对地址，同时这个相对地址是基于生成出来的可执行文件的，所以要注意不能搞错，否则就无法运行。
这里可以把 jar 文件的目录和生成程序的目录设为一致，就可以避免这个问题。</p>
</blockquote>
<p>这样基本上就没有问题了，因为脱离了电脑本地的 JVM 依赖，所以也不会出现严重的兼容问题。</p>

    </div>
    
    <link href="https://cdn.bootcss.com/KaTeX/0.10.2/katex.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/KaTeX/0.10.2/katex.min.js"></script>
    <script src="https://cdn.bootcss.com/KaTeX/0.10.2/contrib/auto-render.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
          renderMathInElement(document.body, {
                  delimiters: [
                      {left: "$$", right: "$$", display: true},
                      {left: "$", right: "$", display: false}
                  ]
              });
        });
    </script>
  </div>

    <div class="footer">
  <div class="footer-social">
    <h1></h1>
    <p>Copyright © 2022 All Rights Reserved. Built by Zee with ❤.</p>
  </div>
</div>
  </div>

  

  

  
  <script type="text/javascript" src="/js/bundle.min.5993fcb11c07dea925a3fbd58c03c7f1857197c35fccce3aa963a12c0b3c9960.js"></script>
  

  
  

</body>
</html>