<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Zeesain Tsui">



    <meta name="description" content="大梦初醒啊。">



<title>车辆驾驶行为分析——比赛复盘（二） | Zeesain Tsui</title>



    <link rel="icon" href="/image/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
            <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
    MathJax.Hub.Config({
        CommonHTML: {
          scale: 95
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


        
    


<meta name="generator" content="Hexo 5.3.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Zeesain Tsui</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/">首页</a>
                
                    <a class="menu-item" href="/archives">博客</a>
                
                    <a class="menu-item" href="/category">索引</a>
                
                    <a class="menu-item" href="/log">日志</a>
                
                    <a class="menu-item" href="/pic">图库</a>
                
                    <a class="menu-item" href="/about">关于</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Zeesain Tsui</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/">首页</a>
                
                    <a class="menu-item" href="/archives">博客</a>
                
                    <a class="menu-item" href="/category">索引</a>
                
                    <a class="menu-item" href="/log">日志</a>
                
                    <a class="menu-item" href="/pic">图库</a>
                
                    <a class="menu-item" href="/about">关于</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">车辆驾驶行为分析——比赛复盘（二）</h1>
            
                <div class="post-meta">
                    <!-- 
                        Author: <a itemprop="author" rel="author" href="/">Zeesain Tsui</a>
                     -->

                    
                        <span class="post-time">
                        <a href="#">August 22, 2019</a>
                        </span>
                    
                    
                        <span class="post-category">
                        &nbsp;&nbsp;
                        
                            <a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
                        
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <p>这一部分是比赛的思路复盘，由于时隔两个多月，只能够写个大概。</p>
<a id="more"></a>

<h2 id="数据预处理"><a href="#数据预处理" class="headerlink" title="数据预处理"></a>数据预处理</h2><p>在前面简单地抽出了一些文件进行了人工分析，我们发现数据出现了不同程度的遗漏，并且经纬度的值也会有着很大的偏差。于是乎现在就需要将所有的数据进行预处理，从而方便后面的分析。</p>
<ol>
<li><strong>缺失值</strong>。缺失值我们采用常规的处理手段，即缺失值中的速度值和角度值等全部继承上一个点的数据；经纬度用上一个点的经纬度、速度和角度进行计算。</li>
<li><strong>经纬度漂移</strong>。这个地方其实比较玄学，因为经纬度可以通过算法结合速度、角度进行计算，然而这两个参数所给的数据也存在误差。所以导致一段路上的经纬度利用算法修正也会存在一定量的漂移；后来我们尝试使用高德地图的绑路 API ，但是由于数据的限制以及调用次数的限制也存在瓶颈；再后来我们尝试动态修复，即经纬度出错的地方用速度和角度修正，速度角度出错的地方我们用经纬度修正（在第一步实现的情况下），但判断阈值很难敲定。于是最后我们选择相信速度角度数据的准确性，然后找出漂移的区块进行修正。</li>
</ol>
<p>预处理后，丢弃一部分无用数据，然后送入分析算法之中分析。</p>
<h3 id="分析维度"><a href="#分析维度" class="headerlink" title="分析维度"></a>分析维度</h3><table>
<thead>
<tr>
<th>一级指标</th>
<th>阈值界定</th>
</tr>
</thead>
<tbody><tr>
<td>疲劳驾驶</td>
<td>采用驾驶人连续驾驶时间不得超过 4 小时，每次停车休息时间不少于 20 分钟的标准界定疲劳驾驶</td>
</tr>
<tr>
<td>急加速</td>
<td>设定急加速行为的加速度阈值为 3m/s² ，为避免误差，计算加速度时间间隔取为 3s</td>
</tr>
<tr>
<td>急减速</td>
<td>设定急加速行为的加速度阈值为 -3m/s² ，为避免误差，计算加速度时间间隔取为 3s</td>
</tr>
<tr>
<td>怠速预热</td>
<td>怠速预热的条件：行驶速度 v = 0；ACC 状态为 on；</td>
</tr>
<tr>
<td>超长怠速</td>
<td>超长怠速的条件：行驶速度 v = 0；ACC 状态为 on；怠速预热时间 t ≥ 60s</td>
</tr>
<tr>
<td>熄火滑行</td>
<td>熄火滑行的条件：ACC 状态为 off；速度 0 &lt; V &lt; 5km/h；持续时间 t ≥ 3s</td>
</tr>
<tr>
<td>超速</td>
<td>条件：速度 ≥ 60km/h；持续 3s 或以上</td>
</tr>
<tr>
<td>急变道</td>
<td>短时间内的角度变化范围在 (20°, 70°) 之间；持续时间 3-5s</td>
</tr>
</tbody></table>
<p><strong>上文中所有的阈值以及判断标准均是采用了国家标准或者行业规定及习惯</strong>，从而确保准确性。超速那一部分需要读取到每一个经纬度所对应的地理位置，由于调用 API 的次数有限，加之大部分的行驶路段为城市公路，所以定位了 60km/h。</p>
<blockquote>
<p>如今我觉着这一部分做得并不完美，主要是因为当时的比赛经验比较少，技术也不够好。有很多的地方界定的阈值调了很多次。像是超速等其实可以用动态的方式进行行为判决，行为数可能也少了一点。<br>这里的代码结构简单，略过。</p>
</blockquote>
<h3 id="自然气象"><a href="#自然气象" class="headerlink" title="自然气象"></a>自然气象</h3><p>第三题中的要求是结合自然气象，并给了一系列的省市区不同日期的天气图。所以这就需要我们进行车辆行驶过程中天气的分类，这一部分我用到了百度的坐标逆运算 API 去求出不同经纬度对应的具体行政地址。</p>
<p>由于 API 的限制，同时考虑到极短时间内的跨市区行为低概率，我们采用了 10-20min 的采样间隔对数据进行抽稀以缓解压力，然后去除重复得出每一辆车的途径地点以及日期。</p>
<p>对天气数据进行按地点和时间分类，再将车辆的途径地点一一进行匹配不同的天气环境，然后再根据特定天气环境下的判断标准进行驾驶行为的分析汇总。</p>
<h3 id="分析方法"><a href="#分析方法" class="headerlink" title="分析方法"></a>分析方法</h3><p>这一部分由金融的小伙伴负责，大致是先利用识别出的各不良驾驶行为的数据进行直方图分析、百分位值统计分析，建立评分模型对不良驾驶行为进行打分，再用 SPSS 和 Excel 筛选出最高最低分群，并分析单项不良驾驶行为得分分布情况。</p>
<p>此方法可以挖掘出各项驾驶行为表现最安全的司机、各项驾驶行为表现最恶劣的司机，以及总体上不良驾驶行为的恶劣程度分布。</p>
<p>最后结合权重，利用层次分析法建立综合评价指标体系。（有很长的表格，就不贴了）</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>第一次认真地参加一个比赛，也有了一些心得。</p>
<ol>
<li>写算法的时候要注意算法的逻辑速度，因为要计算的数据往往在百万级或千万级，有一个理想的速度是非常必要的；但同时也不要痴迷于优化速度，要把更多时间放到得出的结果上。</li>
<li>在一开始应该做好项目的管理以及代码的区分，这样能事半功倍。不同的部分应该区分开来，降低耦合度。</li>
<li>与队友的配合是十分重要的，不仅在于分工，还有平时的交流和资料的分享都可以创造出很多想法。</li>
<li>多尝试不同的算法以及工具，这不仅是比赛也是学习的平台。</li>
</ol>
<p>最后也十分感谢金融的小伙伴，她用完美的专业知识填补了我完美的专业空缺，完成了论文的大部分以及最终的综合评价体系和分析。</p>
<p><img src="https://images.unsplash.com/photo-1488575599310-acc44e2d9a06?ixlib=rb-1.2.1&auto=format&fit=crop&w=934&q=80"></p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span></span>
                        <span>Zeesain Tsui</span>
                    </p>
                
                
                
                    <p class="copyright-item">
                        <span></span>
                        <span>Copyright (c) 2020 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span class="tag">
                    
                    
                        <a href="/tags/%E6%8A%80%E6%9C%AF/"># 技术</a>
                    
                        <a href="/tags/Python/"># Python</a>
                    
                        
                </span>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2019/20190826%20%E4%BD%8E%E4%BF%97%E5%B0%8F%E8%AF%B4%EF%BC%9A%E8%AE%B2%E6%95%85%E4%BA%8B%E7%9A%84%E6%89%8B%E6%B3%95%E6%9C%AC%E8%BA%AB%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E6%95%85%E4%BA%8B/">低俗小说：讲故事的手法本身就是一个故事</a>
            
            
            <a class="next" rel="next" href="/2019/20190820%20Advice%20and%20Definition%20of%20Data%20Science/">Advice and Definition of Data Science</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© 2020 By Zeesain Tsui with ❤</span>
    </div>
</footer>


<!-- <script type="text/javascript" color="0,0,0" opacity='0.4' zIndex="-2" count="100" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script> -->

    </div>
</body>
</html>
